<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Личный кабинет пользователя - Floww. Управляйте профилем, заказами и избранным."
    />
    <meta
      name="keywords"
      content="личный кабинет, профиль, мои заказы, избранное, Floww, цветочный магазин"
    />
    <title>Личный кабинет - Floww</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/auth.css" />
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
  </head>

  <body>
    <header class="header">
      <div class="container header__container">
        <a href="index.html" class="logo">Floww</a>
        <nav class="nav header__nav">
          <ul class="nav__list">
            <li class="nav__item">
              <a href="index.html" class="nav__link">Главная</a>
            </li>
            <li class="nav__item">
              <a href="catalog.html" class="nav__link">Каталог</a>
            </li>
            <li class="nav__item">
              <a href="delivery.html" class="nav__link">Доставка</a>
            </li>
            <li class="nav__item">
              <a href="about.html" class="nav__link">О нас</a>
            </li>
            <li class="nav__item">
              <a href="contact.html" class="nav__link">Контакты</a>
            </li>
          </ul>
        </nav>
        <div class="header__actions">
          <button
            class="header__action-btn js-search-toggle"
            aria-label="Поиск"
          >
            <img src="../assets/search.svg" alt="Поиск" />
          </button>
          <a
            href="user.html"
            class="header__action-btn active"
            aria-label="Аккаунт"
            ><img src="../assets/user.svg" alt="Аккаунт"
          /></a>
          <a
            href="favorite.html"
            class="header__action-btn"
            aria-label="Избранное"
            ><img src="../assets/favorite.svg" alt="Избранное"
          /></a>
          <a
            href="cart.html"
            class="header__action-btn header__cart-btn"
            aria-label="Корзина"
          >
            <img src="../assets/cart.svg" alt="Корзина" />
            <span class="cart-count" data-cart-count>0</span>
          </a>
          <button class="burger-menu" aria-label="Открыть меню">
            <span></span><span></span><span></span>
          </button>
        </div>
      </div>
    </header>

    <main class="user-page">
      <div class="container">
        <h1 class="page-title">Личный кабинет</h1>

        <div class="user-dashboard">
          <!-- Этот блок виден только гостям. JS будет его скрывать для авторизованных пользователей. -->
          <div class="user-header">
            <h2 class="user-header__title">
              Добро пожаловать в личный кабинет
            </h2>
            <p class="user-header__subtitle">
              Управляйте своим профилем, заказами и избранным
            </p>
            <button class="btn btn-primary" id="login-btn">Войти</button>
            <button class="btn btn-secondary" id="register-btn">
              Зарегистрироваться
            </button>
          </div>

          <!-- Боковая панель личного кабинета. Изначально скрыта. -->
          <aside class="user-sidebar" id="user-sidebar-nav">
            <div class="user-profile-info">
              <div class="user-avatar-wrapper">
                <img
                  src="../assets/account_circle.svg"
                  alt="Аватар пользователя"
                  id="user-profile-avatar"
                />
              </div>
              <h2 id="user-profile-name" class="user-profile__name">Гость</h2>
            </div>
            <nav class="user-navigation">
              <ul>
                <li>
                  <a
                    href="#profile"
                    class="user-sidebar__link active"
                    data-tab="profile"
                    >Профиль</a
                  >
                </li>
                <li>
                  <a href="#orders" class="user-sidebar__link" data-tab="orders"
                    >История заказов</a
                  >
                </li>
                <li>
                  <a
                    href="#favorites"
                    class="user-sidebar__link"
                    data-tab="favorites"
                    >Избранное</a
                  >
                </li>
                <li>
                  <a
                    href="#addresses"
                    class="user-sidebar__link"
                    data-tab="addresses"
                    >Адреса доставки</a
                  >
                </li>
                <li>
                  <a
                    href="#settings"
                    class="user-sidebar__link"
                    data-tab="settings"
                    >Настройки</a
                  >
                </li>
              </ul>
            </nav>
          </aside>

          <div class="user-content user-page__content">
            <!-- Контент вкладок личного кабинета. Изначально скрыт. -->
            <div class="user-tabs-content" id="user-tabs-container">
              <section class="user-tab active" id="profile">
                <h2>Мой профиль</h2>
                <form class="user-form" id="profile-form">
                  <div class="form-group">
                    <label for="user-fullname">ФИО</label>
                    <input
                      type="text"
                      id="user-fullname"
                      name="fullname"
                      class="form-input"
                      placeholder="Введите ваше полное имя"
                    />
                  </div>
                  <div class="form-group">
                    <label for="user-email">Email (нельзя изменить)</label>
                    <input
                      type="email"
                      id="user-email"
                      name="email"
                      class="form-input"
                      placeholder="Ваш email"
                      readonly
                    />
                  </div>
                  <div class="form-group">
                    <label for="user-phone">Телефон</label>
                    <input
                      type="tel"
                      id="user-phone"
                      name="phone"
                      class="form-input"
                      placeholder="+7 (___) ___-__-__"
                    />
                  </div>
                  <div class="form-group">
                    <label for="user-birthday">Дата рождения</label>
                    <input
                      type="date"
                      id="user-birthday"
                      name="birthday"
                      class="form-input"
                    />
                  </div>
                  <button type="submit" class="btn btn-primary">
                    Сохранить изменения
                  </button>
                </form>
              </section>

              <section class="user-tab" id="orders">
                <h2>История заказов</h2>
                <div class="orders-list-container" id="orders-list-container">
                  <div class="empty-state">
                    <p>У вас пока нет заказов.</p>
                    <a href="catalog.html" class="btn btn-primary"
                      >Перейти в каталог</a
                    >
                  </div>
                </div>
              </section>

              <section class="user-tab" id="favorites">
                <h2>Избранное</h2>
                <div id="favorites-list-container" class="product-grid">
                  <div class="empty-state" style="display: none">
                    <p>В избранном пока нет товаров.</p>
                    <a href="catalog.html" class="btn btn-primary">В каталог</a>
                  </div>
                </div>
              </section>

              <section class="user-tab" id="addresses">
                <h2>Мои адреса доставки</h2>
                <div class="address-list-container" id="address-list-container">
                  <div class="empty-state">
                    <p>У вас пока нет сохраненных адресов.</p>
                  </div>
                </div>
                <button
                  class="btn btn-primary add-address-btn"
                  id="add-new-address-btn"
                >
                  Добавить новый адрес
                </button>
              </section>

              <section class="user-tab" id="settings">
                <h2>Настройки аккаунта</h2>
                <form class="user-form" id="settings-form">
                  <fieldset>
                    <legend>Смена пароля</legend>
                    <div class="form-group">
                      <label for="change-password">Новый пароль</label>
                      <input
                        type="password"
                        id="change-password"
                        name="new-password"
                        class="form-input"
                        placeholder="Оставьте пустым, если не хотите менять"
                      />
                    </div>
                    <div class="form-group">
                      <label for="confirm-password">Подтверждение пароля</label>
                      <input
                        type="password"
                        id="confirm-password"
                        name="confirm-password"
                        class="form-input"
                        placeholder="Повторите новый пароль"
                      />
                    </div>
                  </fieldset>
                  <fieldset>
                    <legend>Уведомления</legend>
                    <div class="form-group checkbox-group">
                      <input
                        type="checkbox"
                        id="notification-email"
                        name="notification-email"
                        class="form-checkbox"
                        checked
                      />
                      <label for="notification-email"
                        >Получать уведомления о заказах по email</label
                      >
                    </div>
                    <div class="form-group checkbox-group">
                      <input
                        type="checkbox"
                        id="notification-sms"
                        name="notification-sms"
                        class="form-checkbox"
                      />
                      <label for="notification-sms"
                        >Получать SMS-уведомления о статусе заказа</label
                      >
                    </div>
                  </fieldset>
                  <button type="submit" class="btn btn-primary">
                    Сохранить настройки
                  </button>
                </form>
                <div class="logout-section">
                  <button class="btn btn-outline" id="logout-btn">
                    Выйти из аккаунта
                  </button>
                </div>
              </section>
            </div>
            <!-- /user-tabs-content -->
          </div>
          <!-- /user-content -->
        </div>
        <!-- /user-dashboard -->
      </div>
    </main>

    <footer class="footer">
      <div class="container footer__container">
        <div class="footer__column footer__column--about">
          <a href="index.html" class="logo footer__logo">Floww</a>
          <p>
            Магазин свежих цветов и букетов с доставкой по всему городу. Создаем
            уникальные композиции для любого случая.
          </p>
        </div>
        <div class="footer__column">
          <h4 class="footer__title">Навигация</h4>
          <ul class="footer__list">
            <li><a href="index.html">Главная</a></li>
            <li><a href="catalog.html">Каталог</a></li>
            <li><a href="delivery.html">Доставка</a></li>
            <li><a href="about.html">О нас</a></li>
            <li><a href="contact.html">Контакты</a></li>
          </ul>
        </div>
        <div class="footer__column">
          <h4 class="footer__title">Категории</h4>
          <ul class="footer__list" id="footer-categories-list">
            <!-- Категории будут добавлены через JavaScript -->
          </ul>
        </div>
        <div class="footer__column">
          <h4 class="footer__title">Контакты</h4>
          <address class="footer__contact-info">
            <p>ул. Цветочная, 10<br />Москва, Россия</p>
            <p>Телефон: <a href="tel:+74951234567">+7 (495) 123-45-67</a></p>
            <p>Email: <a href="mailto:hello@floww.com">hello@floww.com</a></p>
          </address>
          <div class="footer__socials">
            <a href="#" aria-label="Facebook"
              ><img src="../assets/FacebookDark.svg" alt="Facebook"
            /></a>
            <a href="#" aria-label="Instagram"
              ><img src="../assets/InstagramDark.svg" alt="Instagram"
            /></a>
            <a href="#" aria-label="VK"
              ><img src="../assets/icons8-vk%20(1).svg" alt="VK"
            /></a>
          </div>
        </div>
      </div>
      <div class="footer__bottom">
        <div class="container footer__bottom-container">
          <p>© 2024 Floww. Все права защищены.</p>
          <nav>
            <a href="#">Политика конфиденциальности</a>
            <a href="#">Условия использования</a>
          </nav>
        </div>
      </div>
    </footer>

    <!-- Мобильное меню -->
    <div class="mobile-menu">
      <button class="mobile-menu__close" aria-label="Закрыть меню">×</button>
      <nav class="mobile-menu__nav">
        <ul>
          <li><a href="index.html">Главная</a></li>
          <li><a href="catalog.html">Каталог</a></li>
          <li><a href="delivery.html">Доставка</a></li>
          <li><a href="about.html">О нас</a></li>
          <li><a href="contact.html">Контакты</a></li>
        </ul>
      </nav>
      <div class="mobile-menu__actions">
        <a href="cart.html" class="btn"
          >Корзина (<span data-cart-count>0</span>)</a
        >
      </div>
    </div>
    <div class="overlay"></div>

    <!-- Модальное окно поиска -->
    <div class="search-modal" id="searchModal">
      <div class="search-modal__content">
        <button
          class="search-modal__close"
          id="closeSearchModalBtn"
          aria-label="Закрыть поиск"
        ></button>
        <h2 class="search-modal__title">Поиск товаров</h2>
        <form class="search-form" id="modalSearchForm">
          <div class="search-input-container">
            <input
              type="search"
              id="modalSearchInput"
              placeholder="Название товара или артикул..."
              aria-label="Поиск по каталогу"
              autofocus
            />
            <button type="submit" class="btn btn-primary">Найти</button>
          </div>
        </form>
        <div class="search-modal__results" id="modalSearchResultsContainer">
          <p class="search-hint">Введите запрос для поиска по каталогу</p>
        </div>
      </div>
    </div>

    <!-- Подключение скриптов -->
    <script src="../js/slider.js"></script>
    <script src="../js/utils.js"></script>
    <script src="../js/api.js"></script>
    <script src="../js/templates.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/user.js"></script>
    <script src="../js/menu.js"></script>
    <script src="../js/search.js"></script>
    <script src="../js/display.js"></script>
    <script src="../js/app.js"></script>
  </body>
</html>
